services:
  prod-quiz-service:
    image: emils-nuc-server:5000/quiz-service:eb01895b4
    container_name: prod-quiz-service
    restart: unless-stopped
    env_file:
      - stacks.env
      - stacks.prod.env
    volumes:
      - prod-quiz-service-uploads-volume:/uploads
    networks:
      - core-network
    healthcheck:
      test: ["CMD-SHELL", "wget -T 5 -qO- http://127.0.0.1:8080/health >/dev/null || exit 1"]
      interval: 30s
      timeout: 5s
      retries: 3
      start_period: 20s
volumes:
  prod-quiz-service-uploads-volume:
    name: prod-quiz-service-uploads-volume
networks:
  core-network:
    external: true
